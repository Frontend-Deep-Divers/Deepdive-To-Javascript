# 16장 프로퍼티 어트리뷰트

## 16.1 내부 슬롯과 내부 메서드

- 내부 슬롯과 내부 메서드는 자바 스크립트 엔진의 구현 알고리즘을 설명하기 위해 ECMAScript 사양에서 사용하는 의사 프로퍼티(pseudo property), 의사 메서드다.

## 16.2 프로퍼티 어트리뷰트와 프로퍼티 디스크립터 객체

- **자바 스크립트 엔진은 프로퍼티를 생성할 때 프로퍼티의 상태를 나타내는 프로퍼티 어트리뷰트를 기본값으로 자동 정의한다.**
- 프로퍼티의 상태
    - 프로퍼티의 값 (value)
    - 값의 갱신 가능 여부 (writable)
    - 열거 가능 여부 (enumerable)
    - 재정의 가능 여부 (configurable)
- 프로퍼티 어트리뷰트는 자바 스크립트 엔진이 관리하는 내부 상태 값인 내부 슬롯이라 직접 접근할 수 는 없다. 허나 `Object.getOwnPropertyDescriptor` 메서드를 통해 간접적으로 확인할 수는 있다.
- `Object.getOwnPropertyDescriptor`  메서드를 호출할 때 첫 번째 매개변수에는 객체의 참조를, 두 번째 매개변수에는 프로퍼티 키를 문자열로 전달한다. 이때 `Object.getOwnPropertyDescriptor` 메서드는 프로퍼티 어트리뷰트 정보를 제공하는 **프로퍼티 디스크립터 객체**를 반환한다.

## 16.3 데이터 프로퍼티와 접근자 프로퍼티

- 데이터 프로퍼티
    - 키와 값으로 구성된 일반적인 프로퍼티.
- 접근자 프로퍼티
    - 자체적으로는 값을 갖지 않고 다른 데이터 프로퍼티의 값을 읽거나 저장할 때 호출되는 접근자 함수로 구성된 프로퍼티
- 데이터 프로퍼티
    - 다음과 같은 프로퍼티 어트리뷰트를 갖는다.
        
        ![image.png](16%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%8B%E1%85%A5%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%E1%84%87%E1%85%B2%E1%84%90%E1%85%B3%201bcf78a2bff180ec8034f76e9cb121fb/image.png)
        
- 접근자 프로퍼티
    - 자체적으로 값을 갖지는 않고 다른 데이터 프로퍼티의 값을 읽거나 저장할 때 사용하는 접근자 함수로 구성된 프로퍼티
        
        ![image.png](16%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%8B%E1%85%A5%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%E1%84%87%E1%85%B2%E1%84%90%E1%85%B3%201bcf78a2bff180ec8034f76e9cb121fb/image%201.png)
        
    - 접근자 함수는 getter/setter 함수라고도 불리며 접근자 프로퍼티는 getter과 setter 함수를 모두 정의할 수도, 하나만 정의할 수도 있다.

## 16.4 프로퍼티 정의

- 새로운 프로퍼티를 추가하면서 프로퍼티 어트리뷰트를 명시적으로 정의하거나 기존 프로퍼티의 프로퍼티 어트리뷰트를 재정의하는 것

## 16.5 객체 변경 방지

- 객체는 변경가능한 값이므로 재할당 없이 직접 변경할 수 있다.
- 자바 스크립트에서 제공하는 객체 변경 방지 메서드는 다음과 같다.
    
    ![image.png](16%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%91%E1%85%A5%E1%84%90%E1%85%B5%20%E1%84%8B%E1%85%A5%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%E1%84%87%E1%85%B2%E1%84%90%E1%85%B3%201bcf78a2bff180ec8034f76e9cb121fb/image%202.png)
    
- 객체 확장 금지
    - 프로퍼티 추가 금지를 의미한다.
    - 프로퍼티는 프로퍼티 동적 추가, Object.definedProperty 메서드로 추가할 수 있다. (근데 이 두 방법 다 객체 확장금지에서 금지됨)
    - 확장이 가능한지는 Object.isExtensible 메서드로 확인한다.
- 객체 밀봉
    - 프로퍼티 추가 및 삭제, 프로퍼티 어트리뷰트 재정의를 금지한다.
    - 밀봉된 객체는 읽기와 쓰기만 가능하다.
- 객체 동결
    - 오직 읽기만 가능하다.
    - Object.freeze 메서드를 사용한다.
- 불변 객체
    - 위의 메서드들은 객체 내의 객체. 중첩 객체에 영향은 주지 못한다. (얕은 변경 방지이기 때문)
    - 객체의 중첩 객체까지 동결하여 읽기 전용의 불변 객체를 구현하기 위해서는 객체를 값으로 갖는 모든 프로퍼티에 대해 재귀적으로 Object.freeze 메서드를 호출해야 한다.