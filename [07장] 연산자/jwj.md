# 7장 연산자

연산자는 하나 이상의 표현식을 대상으로 산술, 할당, 비교, 논리, 타입, 지수 연산 등을 수행해 하나의 값을 만든다.

피연산자는 값으로 평가될 수 있는 표현식이어야 한다.

## 7.1 산술 연산자

산술 불가한 경우 `NaN`을 반환한다.

단항 산술 연산자는 피연산자의 값을 변경시키는 부수 효과(side effect)를 일으킬 수 있어 주의해야 한다.

```js
"1" + 2; // '12'
1 + "2"; // '12'
1 + true; // 2
1 + false; // 1
1 + null; // 1
1 + undefined; // NaN
```

## 7.2 할당 연산자

좌항의 변수에 값을 할당하므로 부수 효과가 있다.

할당문은 표현식인 문이다. 따라서 값으로 평가된다.

```js
a = b = c = 0; // 연쇄적으로 오른쪽부터 0으로 평가
```

## 7.3 비교 연산자

**동등 비교(`==`)와 일치 비교(`===`)의 차이점에 주의해야 한다.**

동등 비교 연산자는 좌항과 우항의 피연산자를 비교할 때 먼저 암묵적 타입 변환을 통해 타입을 일치시킨 뒤 같은 값인지 비교한다.

```js
1 == "1"; // true
false == "false"; // false
```

동등 비교 연산자는 예측하기 어려운 결과를 만들어 내므로 대신 일치 비교 연산자를 사용한다.

일치 비교 연산자는 좌항과 우항의 피연산자가 타입도 같고 값도 같은 경우에만 `true`를 반환한다.

> `Object.is` 메서드는 `===` 연산자와 비슷하게 동작하지만 비교적 예측 가능한 정확한 비교 결과를 반환한다.

```js
-0 === +0; // true
Object.is(-0, +0); // false

NaN === NaN; // false
Object.is(NaN, NaN); // true
```

## 7.4 삼항 조건 연산자

부수 효과가 없다.

삼항 조건 연산자와 조건문의 차이점은 조건문과 다르게 값으로 평가할 수 있는 표현식인 문이라는 점이다.

변수에 결과값을 저장하여 사용할 수 있어 유용하다.

## 7.5 논리 연산자

논리 부정 연산자는 항상 불리언 값을 반환한다.

논리합 또는 논리곱 연산자 표현식의 평가 결과는 불리언 값이 아닐 수 있다.

```js
"Cat" && "Dog"; // 'Dog'
```

## 7.6 쉼표 연산자

왼쪽 피연산자부터 차례로 피연산자를 평가하고 마지막 피연산자 평가가 끝나면 마지막 평가 결과를 반환한다.

```js
var x, y, z;
(x = 1), (y = 2), (z = 3); // 3
```

## 7.7 그룹 연산자

연산자 우선순위가 가장 높다. `10 * (2 + 3)`

## 7.8 typeof 연산자

피연산자의 데이터 타입을 문자열로 반환한다. 무조건 `"string"`, `"number"`, `"boolean"`, `"undefined"`, `"symbol"`, `"object"`, `"function"` 중 하나를 반환한다.

⚠`typeof null`은 `"object"`를 반환하는 버그가 있어 `null` 타입인지 확인할 땐 `===`를 사용해야 한다.

⚠선언하지 않은 식별자를 `typeof`하게 되면 `undefined`를 반환하므로 주의해야 한다.

## 7.9 지수 연산자

ES7에서 도입되었다.

```js
2 ** 2; // 4
2 ** -2; // 0.25
```

음수를 거듭제곱의 밑으로 사용할 땐 괄호로 묶지 않으면 에러가 발생한다.

할당 연산자와 함께 사용할 수도 있다.

지수 연산자는 이항 연산자 중에서 우선순위가 가장 높다.

## 7.10 그 외의 연산자

- `?.`: 옵셔널 체이닝 연산자
- `??`: null 병합 연산자
- `delete`: 프로퍼티 삭제
- `new`: 새 인스턴스 생성
- `instanceof`: 좌변의 객체가 우변의 생성자 함수와 연결된 인스턴스인지 판별
- `in`: 프로퍼티 존재 확인

## 7.11 연산자의 부수 효과

할당 연산자(`=`), 증감 연산자(`++`/`--`), `delete` 연산자는 다른 코드에 영향을 주는 부수 효과가 있다.

## 7.12 연산자 우선순위

1. `()`
2. `new`(매개변수 존재), `.`, `[]`(프로퍼티 접근), `()`(함수 호출), `?.`
3. `new`(매개변수 미존재)
4. `++`, `--`(후위)
5. `!`, `+`, `-`, `++`, `--`, `typeof`, `delete`
6. `**`
7. `*`, `/`, `%`
8. `+`, `-`
9. `<`, `<=`, `>`, `>=`, `in`, `instanceof`
10. `==`, `!=`, `===`, `!==`
11. `??`
12. `&&`
13. `||`
14. 삼항 연산자
15. 할당 연산자
16. `,`

## 7.13 연산자 결합 순서

- 좌 -> 우: `+`, `-`, `/`, `%`, `<`, `<=`, `>`, `>=`, `&&`, `||`, `.`, `[]`, `??`, `?.`, `in`, `instanceof`
- 우 -> 좌: `++`, `--`, 할당 연산자, `!`, `+x`, `-x`, `++x`, `--x`, `typeof`, `delete`, 삼항 연산자
