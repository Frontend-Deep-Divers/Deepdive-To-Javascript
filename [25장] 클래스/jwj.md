# 25ì¥ í´ë˜ìŠ¤

## 25.1 í´ë˜ìŠ¤ëŠ” í”„ë¡œí† íƒ€ì…ì˜ ë¬¸ë²•ì  ì„¤íƒ•ì¸ê°€?

ES6ì—ì„œ ë„ì…ëœ í´ë˜ìŠ¤ëŠ” ê¸°ì¡´ì˜ ìë°”ì™€ C#ê³¼ ê°™ì€ í´ë˜ìŠ¤ ê¸°ë°˜ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì— ìµìˆ™í•œ ê°œë°œìë¥¼ ìœ„í•œ ê°ì²´ ìƒì„± ë©”ì»¤ë‹ˆì¦˜ì´ë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” í´ë˜ìŠ¤ ë˜í•œ í•¨ìˆ˜ì´ë©° ê¸°ì¡´ í”„ë¡œí† íƒ€ì… ê¸°ë°˜ íŒ¨í„´ì„ í´ë˜ìŠ¤ ê¸°ë°˜ íŒ¨í„´ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë¬¸ë²•ì  ì„¤íƒ•ì´ë¼ê³  ë³¼ ìˆ˜ë„ ìˆë‹¤.

ë‹¨, í´ë˜ìŠ¤ì™€ ìƒì„±ì í•¨ìˆ˜ëŠ” ëª¨ë‘ í”„ë¡œí† íƒ€ì… ê¸°ë°˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ë§Œ ì •í™•íˆ ë™ì¼í•˜ê²Œ ë™ì‘í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. í´ë˜ìŠ¤ëŠ” ìƒì„±ì í•¨ìˆ˜ë³´ë‹¤ ì—„ê²©í•˜ë©° ìƒì„±ì í•¨ìˆ˜ì—ì„œëŠ” ì œê³µí•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ë„ ì œê³µí•œë‹¤.

| êµ¬ë¶„              | í´ë˜ìŠ¤ (Class)                                                | ìƒì„±ì í•¨ìˆ˜ (Constructor Function)    |
| ----------------- | ------------------------------------------------------------- | ------------------------------------- |
| 1. í˜¸ì¶œ ë°©ì‹      | `new` ì—†ì´ í˜¸ì¶œí•˜ë©´ ì—ëŸ¬ ë°œìƒ                                 | `new` ì—†ì´ë„ ì¼ë°˜ í•¨ìˆ˜ì²˜ëŸ¼ í˜¸ì¶œ ê°€ëŠ¥  |
| 2. ìƒì†           | `extends`, `super` í‚¤ì›Œë“œ ì§€ì›                                | `extends`, `super` í‚¤ì›Œë“œ ë¯¸ì§€ì›      |
| 3. í˜¸ì´ìŠ¤íŒ…       | í˜¸ì´ìŠ¤íŒ…ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ” ê²ƒì²˜ëŸ¼ ë™ì‘                          | í•¨ìˆ˜ ì„ ì–¸ë¬¸ìœ¼ë¡œ ì •ì˜ ì‹œ í˜¸ì´ìŠ¤íŒ… ë°œìƒ |
| 4. strict mode    | ì•”ë¬µì ìœ¼ë¡œ `strict mode` ì ìš©ë¨ (í•´ì œ ë¶ˆê°€)                   | ê¸°ë³¸ì ìœ¼ë¡œ ì ìš©ë˜ì§€ ì•ŠìŒ              |
| 5. ì—´ê±° ê°€ëŠ¥ ì—¬ë¶€ | `constructor`, í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ, ì •ì  ë©”ì„œë“œê°€ ì—´ê±°ë˜ì§€ ì•ŠìŒ | ì—´ê±°ë  ìˆ˜ ìˆìŒ                        |

## 25.2 í´ë˜ìŠ¤ ì •ì˜

```js
class Person {}
```

ì¼ë°˜ì ì´ì§€ëŠ” ì•Šì§€ë§Œ í‘œí˜„ì‹ìœ¼ë¡œë„ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤. ìµëª…ìœ¼ë¡œë„, ê¸°ëª…ìœ¼ë¡œë„ ê°€ëŠ¥í•˜ë‹¤.

```js
// ìµëª… í´ë˜ìŠ¤ í‘œí˜„ì‹
const Person = class {};

// ê¸°ëª… í´ë˜ìŠ¤ í‘œí˜„ì‹
const Person = class MyClass {};
```

í´ë˜ìŠ¤ê°€ í‘œí˜„ì‹ìœ¼ë¡œ ì •ì˜ë  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì€ í´ë˜ìŠ¤ë„ ì¼ê¸‰ ê°ì²´ë¼ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

í´ë˜ìŠ¤ ëª¸ì²´ì—ëŠ” 0ê°œ ì´ìƒì˜ ë©”ì„œë“œë§Œ ì •ì˜í•  ìˆ˜ ìˆë‹¤. í´ë˜ìŠ¤ ëª¸ì²´ì—ì„œ ì •ì˜í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œëŠ” `constructor`(ìƒì„±ì), í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ, ì •ì  ë©”ì„œë“œ ì„¸ ê°€ì§€ê°€ ìˆë‹¤.

```js
// í´ë˜ìŠ¤ ì„ ì–¸ë¬¸
class Person {
  // ìƒì„±ì
  constructor(name) {
    // ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë° ì´ˆê¸°í™”
    this.name = name; // name í”„ë¡œí¼í‹°ëŠ” publicí•˜ë‹¤.
  }

  // í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ
  sayHi() {
    console.log(`Hi! My name is ${this.name}`);
  }

  // ì •ì  ë©”ì„œë“œ
  static sayHello() {
    console.log("Hello!");
  }
}

// ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
const me = new Person("Lee");

// ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹° ì°¸ì¡°
console.log(me.name); // Lee
// í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ í˜¸ì¶œ
me.sayHi(); // Hi! My name is Lee
// ì •ì  ë©”ì„œë“œ í˜¸ì¶œ
Person.sayHello(); // Hello!
```

## 25.3 í´ë˜ìŠ¤ í˜¸ì´ìŠ¤íŒ…

í´ë˜ìŠ¤ëŠ” í•¨ìˆ˜ë¡œ í‰ê°€ëœë‹¤.

ë•Œë¬¸ì— í´ë˜ìŠ¤ ì„ ì–¸ë¬¸ìœ¼ë¡œ ì„ ì–¸í•œ í´ë˜ìŠ¤ëŠ” í•¨ìˆ˜ ì„ ì–¸ë¬¸ê³¼ ê°™ì´ ì†ŒìŠ¤ì½”ë“œ í‰ê°€, ì¦‰ ëŸ°íƒ€ì„ ì´ì „ì— ë¨¼ì € í‰ê°€ë˜ì–´ í•¨ìˆ˜ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. ì´ë•Œ í´ë˜ìŠ¤ê°€ í‰ê°€ë˜ì–´ ìƒì„±ëœ í•¨ìˆ˜ ê°ì²´ëŠ” ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜, ì¦‰ `constructor`ë‹¤.

ì´ë–„ í”„ë¡œí† íƒ€ì…ë„ ê°™ì´ ìƒì„±ëœë‹¤. ìƒì„±ì í•¨ìˆ˜ì™€ í”„ë¡œí† íƒ€ì…ì€ ë‹¨ë…ìœ¼ë¡œ ì¡´ì¬í•  ìˆ˜ ì—†ê³  ì–¸ì œë‚˜ ìŒìœ¼ë¡œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

ë‹¨, í´ë˜ìŠ¤ëŠ” í´ë˜ìŠ¤ ì •ì˜ ì´ì „ì— ì°¸ì¡°í•˜ë ¤ê³  í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

í´ë˜ìŠ¤ ì„ ì–¸ë¬¸ë„ í˜¸ì´ìŠ¤íŒ…ì´ ë°œìƒí•œë‹¤. ë‹¨ `let`ê³¼ `const` í‚¤ì›Œë“œì˜ ë³€ìˆ˜ì²˜ëŸ¼ í˜¸ì´ìŠ¤íŒ…ëœë‹¤. (TDZì— ë¹ ì§ˆ ìˆ˜ ìˆë‹¤.)

ğŸ’¡`var`, `let`, `const`, `function`, `function*`, `class` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì„ ì–¸ëœ ëª¨ë“  ì‹ë³„ìëŠ” í˜¸ì´ìŠ¤íŒ…ëœë‹¤. ëª¨ë“  ì„ ì–¸ë¬¸ì€ ëŸ°íƒ€ì„ ì´ì „ì— ë¨¼ì € ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì´ë‹¤.

## 25.4 ì¸ìŠ¤í„´ìŠ¤ ìƒì„±

ë°˜ë“œì‹œ `new` ì—°ì‚°ìì™€ í•¨ê»˜ ìƒì„±í•œë‹¤.

í´ë˜ìŠ¤ í‘œí˜„ì‹ìœ¼ë¡œ ì •ì˜ëœ í´ë˜ìŠ¤ëŠ” í´ë˜ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì‹ë³„ìë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. í´ë˜ìŠ¤ ì´ë¦„ì„ ì‚¬ìš©í•´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ë‹¤. (í•¨ìˆ˜ í‘œí˜„ì‹ê³¼ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤.)

## 25.5 ë©”ì„œë“œ

í´ë˜ìŠ¤ ëª¸ì²´ì—ëŠ” 0ê°œ ì´ìƒì˜ ë©”ì„œë“œë§Œ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

> ES2020ì— ë”°ë¥´ë©´ ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°ëŠ” ë°˜ë“œì‹œ `constructor` ë‚´ë¶€ì—ì„œ ì •ì˜í•´ì•¼ í–ˆìœ¼ë‚˜, í´ë˜ìŠ¤ ëª¸ì²´ì— ë©”ì„œë“œë¿ë§Œì´ ì•„ë‹ˆë¼ í”„ë¡œí¼í‹°ë¥¼ ì§ì ‘ ì •ì˜í•  ìˆ˜ ìˆëŠ” ìƒˆë¡œìš´ í‘œì¤€ ì‚¬ì–‘ì´ ì œì•ˆë˜ì–´ ìˆë‹¤.

### `constructor`

`constructor`ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì´ˆê¸°í™”í•˜ê¸° ìœ„í•œ íŠ¹ìˆ˜í•œ ë©”ì„œë“œë‹¤. `constructor`ëŠ” ì´ë¦„ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.

`constructor`ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë‚´ë¶€ì— ë³´ì´ì§€ ì•ŠëŠ”ë°, ì´ëŠ” `constructor`ëŠ” ë©”ì„œë“œë¡œ í•´ì„ë˜ì§€ ì•Šê³  í´ë˜ìŠ¤ê°€ í‰ê°€ë˜ì–´ ìƒì„±í•œ í•¨ìˆ˜ ê°ì²´ ì½”ë“œì˜ ì¼ë¶€ê°€ ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ì¦‰, í´ë˜ìŠ¤ ì •ì˜ê°€ í‰ê°€ë˜ë©´ `constructor`ì˜ ê¸°ìˆ ëœ ë™ì‘ì„ í•˜ëŠ” í•¨ìˆ˜ ê°ì²´ê°€ ìƒì„±ëœë‹¤ëŠ” ê²ƒì´ë‹¤.

> âš ï¸í´ë˜ìŠ¤ì˜ `constructor` ë©”ì„œë“œì™€ í”„ë¡œí† íƒ€ì…ì˜ `constructor` í”„ë¡œí¼í‹°ëŠ” ì§ì ‘ì ì¸ ê´€ë ¨ì´ ì—†ë‹¤. í”„ë¡œí† íƒ€ì…ì˜ `constructor` í”„ë¡œí¼í‹°ëŠ” ëª¨ë“  í”„ë¡œí† íƒ€ì…ì´ ê°€ì§€ê³  ìˆëŠ” í”„ë¡œí¼í‹°ë¡œ, ìƒì„±ì í•¨ìˆ˜ë¥¼ ê°€ë¦¬í‚¨ë‹¤.

`constructor`ëŠ” ìƒì„±ì í•¨ìˆ˜ì™€ ìœ ì‚¬í•˜ì§€ë§Œ ëª‡ ê°€ì§€ ì°¨ì´ì ì´ ìˆë‹¤.

1. `constructor`ëŠ” í´ë˜ìŠ¤ ë‚´ í•œ ê°œ ì´ìƒ ì¡´ì¬í•  ìˆ˜ ì—†ë‹¤.
2. `constructor`ë¥¼ ìƒëµí•˜ë©´ ë¹ˆ `constructor`ê°€ ì•”ë¬µì ìœ¼ë¡œ ì •ì˜ëœë‹¤.

   ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•˜ë ¤ë©´ `constructor`ë¥¼ ìƒëµí•˜ë©´ ì•ˆ ëœë‹¤.

3. `constructor`ëŠ” ë³„ë„ì˜ ë°˜í™˜ë¬¸ì„ ê°–ì§€ ì•Šì•„ì•¼ í•œë‹¤.

   ìƒì„±ì í•¨ìˆ˜ì™€ ë™ì¼í•˜ê²Œ ì•”ë¬µì ìœ¼ë¡œ `this`, ì¦‰ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë‹¤ë¥¸ ê°ì²´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë°˜í™˜í•˜ë©´ `return` ë¬¸ì— ëª…ì‹œí•œ ê°ì²´ê°€ ë°˜í™˜ëœë‹¤. í•˜ì§€ë§Œ ì›ì‹œê°’ì„ ë°˜í™˜í•˜ë©´ ì›ì‹œê°’ ë°˜í™˜ì€ ë¬´ì‹œë˜ê³  `this`ê°€ ë°˜í™˜ëœë‹¤.

### í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ

í´ë˜ìŠ¤ ëª¸ì²´ì— ì •ì˜í•œ ë©”ì„œë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í”„ë¡œí† íƒ€ì… ë©”ì„œë“œê°€ ëœë‹¤.

```js
class Person {
  // ìƒì„±ì
  constructor(name) {
    // ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë° ì´ˆê¸°í™”
    this.name = name;
  }

  // í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ
  sayHi() {
    console.log(`Hi! My name is ${this.name}`);
  }
}

const me = new Person("Lee");
me.sayHi(); // Hi! My name is Lee
```

### ì •ì  ë©”ì„œë“œ

`static` í‚¤ì›Œë“œë¥¼ ë¶™ì´ë©´ ì •ì  ë©”ì„œë“œê°€ ëœë‹¤.

```js
class Person {
  // ìƒì„±ì
  constructor(name) {
    // ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë° ì´ˆê¸°í™”
    this.name = name;
  }

  // ì •ì  ë©”ì„œë“œ
  static sayHi() {
    console.log("Hi!");
  }
}
```

ğŸ’¡ì •ì  ë©”ì„œë“œëŠ” ì¸ìŠ¤í„´ìŠ¤ë¡œ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤.

### ì •ì  ë©”ì„œë“œì™€ í”„ë¡œí† íƒ€ì… ë©”ì„œë“œì˜ ì°¨ì´

1. ìì‹ ì´ ì†í•´ ìˆëŠ” í”„ë¡œí† íƒ€ì… ì²´ì¸ì´ ë‹¤ë¥´ë‹¤.
2. ì •ì  ë©”ì„œë“œëŠ” í´ë˜ìŠ¤ë¡œ í˜¸ì¶œí•˜ì§€ë§Œ í”„ë¡œí† íƒ€ì… ë©”ì„œë“œëŠ” ì¸ìŠ¤í„´ìŠ¤ë¡œ í˜¸ì¶œí•œë‹¤.
3. ì •ì  ë©”ì„œë“œëŠ” ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°ë¥¼ ì°¸ì¡°í•  ìˆ˜ ì—†ì§€ë§Œ í”„ë¡œí† íƒ€ì… ë©”ì„œë“œëŠ” ê°€ëŠ¥í•˜ë‹¤.

### í´ë˜ìŠ¤ì—ì„œ ì •ì˜í•œ ë©”ì„œë“œì˜ íŠ¹ì§•

1. `function` í‚¤ì›Œë“œë¥¼ ìƒëµí•œ ë©”ì„œë“œ ì¶•ì•½ í‘œí˜„ì„ ì‚¬ìš©í•œë‹¤.
2. ê°ì²´ ë¦¬í„°ëŸ´ê³¼ëŠ” ë‹¤ë¥´ê²Œ í´ë˜ìŠ¤ì— ë©”ì„œë“œë¥¼ ì •ì˜í•  ë•ŒëŠ” ì½¤ë§ˆê°€ í•„ìš” ì—†ë‹¤.
3. ì•”ë¬µì ìœ¼ë¡œ strict modeë¡œ ì‹¤í–‰ëœë‹¤.
4. `for...in` ë¬¸ì´ë‚˜ `Object.keys` ë©”ì„œë“œ ë“±ìœ¼ë¡œ ì—´ê±°í•  ìˆ˜ ì—†ë‹¤. (`[[Enumerable]]` ê°’ì´ `false`ë‹¤.)
5. ë‚´ë¶€ ë©”ì„œë“œ `[[Constructor]]`ë¥¼ ê°–ì§€ ì•ŠëŠ” non-constructorë‹¤. ë”°ë¼ì„œ `new` ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤.

## 25.6 í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ê³¼ì •

`new` ì—°ì‚°ìì™€ í•¨ê»˜ í´ë˜ìŠ¤ë¥¼ í˜¸ì¶œí•˜ë©´ ìƒì„±ì í•¨ìˆ˜ì™€ ê°™ì´ í´ë˜ìŠ¤ì˜ ë‚´ë¶€ ë©”ì„œë“œ `[[Construct]]`ê°€ í˜¸ì¶œëœë‹¤.

1. ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ê³¼ `this` ë°”ì¸ë”©

`constructor` ë‚´ë¶€ ì½”ë“œê°€ ì‹¤í–‰ë˜ì–´ ì•”ë¬µì ìœ¼ë¡œ (ì¶”í›„ ì¸ìŠ¤í„´ìŠ¤ê°€ ë )ë¹ˆ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. ì´ë•Œ ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ í´ë˜ìŠ¤ì˜ `prototype` í”„ë¡œí¼í‹°ê°€ ê°€ë¦¬í‚¤ëŠ” ê°ì²´ê°€ ì„¤ì •ëœë‹¤. ê·¸ë¦¬ê³  ë¹ˆ ê°ì²´, ì¦‰ ì¸ìŠ¤í„´ìŠ¤ê°€ `this`ì— ë°”ì¸ë”©ëœë‹¤. ì´ì œ `constructor` ë‚´ë¶€ì˜ `this`ëŠ” í´ë˜ìŠ¤ê°€ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤.

2. ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”

`constructor` ë‚´ë¶€ ì½”ë“œê°€ ì‹¤í–‰ë˜ì–´ `this`ì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•œë‹¤. ì¦‰, `this`ì— ë°”ì¸ë”©ëœ ì¸ìŠ¤í„´ìŠ¤ì— í”„ë¡œí¼í‹°ë¥¼ ì¶”ê°€í•˜ê³  `constructor`ê°€ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ì´ˆê¸°ê°’ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹° ê°’ì„ ì´ˆê¸°í™”í•œë‹¤.

3. ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜

ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”©ëœ `this`ê°€ ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜ëœë‹¤.

## 25.7 í”„ë¡œí¼í‹°

### ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°

`constructor` ë‚´ë¶€ì— ì •ì˜í•  ìˆ˜ ìˆë‹¤.

```js
constructor(name) {
  this.name = name; // ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°
}
```

ìƒì„±ëœ ë¹ˆ ê°ì²´, ì¦‰ ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹°ë¡œ ì¶”ê°€ë˜ì–´ ì¸ìŠ¤í„´ìŠ¤ê°€ ì´ˆê¸°í™”ëœë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í´ë˜ìŠ¤ëŠ” ì ‘ê·¼ ì œí•œìë¥¼ ì§€ì›í•˜ì§€ ì•Šì•„ ì–¸ì œë‚˜ ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°ëŠ” publicí•˜ë‹¤.

> ğŸ’¡ ES2022ì—ì„œ `#`ë¥¼ í†µí•´ private í•„ë“œ/ë©”ì„œë“œë¥¼ ì •ì˜í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

### ì ‘ê·¼ì í”„ë¡œí¼í‹°

ë°ì´í„° í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì½ê±°ë‚˜ ì €ì¥í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì ‘ê·¼ì í•¨ìˆ˜ë¡œ êµ¬ì„±ëœ í”„ë¡œí¼í‹°ë‹¤.

ìƒì„±ì í•¨ìˆ˜ì™€ ë¹„ìŠ·í•˜ê²Œ ì‚¬ìš©í•œë‹¤.

```js
const person = {
  // ë°ì´í„° í”„ë¡œí¼í‹°
  firstName: "Ungmo",
  lastName: "Lee",

  // fullNameì€ ì ‘ê·¼ì í•¨ìˆ˜ë¡œ êµ¬ì„±ëœ ì ‘ê·¼ì í”„ë¡œí¼í‹°ë‹¤.
  // getter í•¨ìˆ˜
  get fullName() {
    return `${this.firstName} ${this.lastName}`;
  },
  // setter í•¨ìˆ˜
  set fullName(name) {
    // ë°°ì—´ ë””ìŠ¤íŠ¸ëŸ­ì²˜ë§ í• ë‹¹: "36.1. ë°°ì—´ ë””ìŠ¤íŠ¸ëŸ­ì²˜ë§ í• ë‹¹" ì°¸ê³ 
    [this.firstName, this.lastName] = name.split(" ");
  },
};

// ë°ì´í„° í”„ë¡œí¼í‹°ë¥¼ í†µí•œ í”„ë¡œí¼í‹° ê°’ì˜ ì°¸ì¡°.
console.log(`${person.firstName} ${person.lastName}`); // Ungmo Lee

// ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ í†µí•œ í”„ë¡œí¼í‹° ê°’ì˜ ì €ì¥
// ì ‘ê·¼ì í”„ë¡œí¼í‹° fullNameì— ê°’ì„ ì €ì¥í•˜ë©´ setter í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.
person.fullName = "Heegun Lee";
console.log(person); // {firstName: "Heegun", lastName: "Lee"}

// ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ í†µí•œ í”„ë¡œí¼í‹° ê°’ì˜ ì°¸ì¡°
// ì ‘ê·¼ì í”„ë¡œí¼í‹° fullNameì— ì ‘ê·¼í•˜ë©´ getter í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.
console.log(person.fullName); // Heegun Lee

// fullNameì€ ì ‘ê·¼ì í”„ë¡œí¼í‹°ë‹¤.
// ì ‘ê·¼ì í”„ë¡œí¼í‹°ëŠ” get, set, enumerable, configurable í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ê°–ëŠ”ë‹¤.
console.log(Object.getOwnPropertyDescriptor(person, "fullName"));
// {get: Æ’, set: Æ’, enumerable: true, configurable: true}
```

ì ‘ê·¼ì í”„ë¡œí¼í‹° ì—­ì‹œ ë©”ì„œë“œì²˜ëŸ¼ í”„ë¡œí† íƒ€ì…ì˜ í”„ë¡œí¼í‹°ê°€ ëœë‹¤.

### í´ë˜ìŠ¤ í•„ë“œ ì •ì˜ ì œì•ˆ

í´ë˜ìŠ¤ í•„ë“œëŠ” í´ë˜ìŠ¤ ê¸°ë°˜ ê°ì²´ì§€í–¥ ì–¸ì–´ì—ì„œ í´ë˜ìŠ¤ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹°ë¥¼ ê°€ë¦¬í‚¤ëŠ” ìš©ì–´ë‹¤.

ë³¸ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í´ë˜ìŠ¤ ëª¸ì²´ì—ëŠ” ë©”ì„œë“œë§Œ ì„ ì–¸í•  ìˆ˜ ìˆì—ˆë‹¤. í´ë˜ìŠ¤ ëª¸ì²´ì— ìë°”ì™€ ê°™ì´ í•„ë“œë¥¼ ì„ ì–¸í•˜ë©´ ë¬¸ë²• ì—ëŸ¬ê°€ ë°œìƒí–ˆì—ˆë‹¤.

í•˜ì§€ë§Œ Chrome 72 ì´ìƒ í˜¹ì€ Node.js 12ë²„ì „ ì´ìƒì—ì„œ ì‹¤í–‰í•˜ë©´ ë¬¸ë²• ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šìœ¼ë©° ìë°”ì™€ ê°™ì´ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

ES2020ë¶€í„°ëŠ” ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°ë¥¼ ë§ˆì¹˜ í´ë˜ìŠ¤ ê¸°ë°˜ ê°ì²´ì§€í–¥ ì–¸ì–´ì²˜ëŸ¼ ì •ì˜í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

```js
class Person {
  name = "Jeon";
}
```

`this`ì— í´ë˜ìŠ¤ í•„ë“œë¥¼ ë°”ì¸ë”©í•  ìˆ˜ëŠ” ì—†ë‹¤. `this`ëŠ” í´ë˜ìŠ¤ì˜ `constructor`ì™€ ë©”ì„œë“œ ë‚´ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

í´ë˜ìŠ¤ í•„ë“œë¥¼ ì°¸ì¡°í•  ë• `this` í‚¤ì›Œë“œë¥¼ ë°˜ë“œì‹œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

ì´ˆê¸°ê°’ì„ í• ë‹¹í•˜ì§€ ì•Šìœ¼ë©´ `undefined`ë¥¼ ê°–ëŠ”ë‹¤.

ë§Œì•½ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹œ í´ë˜ìŠ¤ í•„ë“œë¥¼ ì´ˆê¸°í™”í•  í•„ìš”ê°€ ìˆë‹¤ë©´ `constructor` ë°–ì—ì„œ êµ³ì´ ì •ì˜í•  í•„ìš”ëŠ” ì—†ë‹¤. í´ë˜ìŠ¤ í•„ë“œëŠ” `constructor` ë‚´ë¶€ì—ì„œ ì°¸ì¡°í•˜ì—¬ ì´ˆê¸°ê°’ì„ í• ë‹¹í•´ì•¼ í•˜ëŠ”ë°, ì´ë•Œ í”„ë¡œí¼í‹°ê°€ ì—†ë‹¤ë©´ ì¸ìŠ¤í„´ìŠ¤ì— ìë™ìœ¼ë¡œ ì¶”ê°€í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í•¨ìˆ˜ëŠ” ì¼ê¸‰ ê°ì²´ì´ë¯€ë¡œ í´ë˜ìŠ¤ í•„ë“œì— í•¨ìˆ˜ë¥¼ í• ë‹¹í•  ìˆ˜ ìˆê³ , ë”°ë¼ì„œ í´ë˜ìŠ¤ í•„ë“œë¥¼ í†µí•´ ë©”ì„œë“œë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

```js
class Person {
  // í´ë˜ìŠ¤ í•„ë“œì— ë¬¸ìì—´ì„ í• ë‹¹
  name = "Lee";

  // í´ë˜ìŠ¤ í•„ë“œì— í•¨ìˆ˜ë¥¼ í• ë‹¹
  getName = function () {
    return this.name;
  };
  // í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤.
  // getName = () => this.name;
}

const me = new Person();
console.log(me); // Person {name: "Lee", getName: Æ’}
console.log(me.getName()); // Lee
```

ğŸ’¡í´ë˜ìŠ¤ í•„ë“œì— í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ë©´ í”„ë¡œí† íƒ€ì… ë©”ì„œë“œê°€ ì•„ë‹Œ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œê°€ ëœë‹¤. ëª¨ë“  í´ë˜ìŠ¤ í•„ë“œëŠ” ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°ê°€ ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ë”°ë¼ì„œ í´ë˜ìŠ¤ í•„ë“œì— í•¨ìˆ˜ë¥¼ í• ë‹¹í•˜ëŠ” ê²ƒì€ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤. (ë©”ì„œë“œ ì¶•ì•½ í‘œí˜„ì„ ì‚¬ìš©í•´ì„œ í”„ë¡œí† íƒ€ì… ë©”ì„œë“œë¥¼ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.)

í´ë˜ìŠ¤ í•„ë“œì— í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ í• ë‹¹í•´ í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì˜ `this`ê°€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ê²Œ í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤.

```html
<!DOCTYPE html>
<html>
  <body>
    <button class="btn">0</button>
    <script>
      class App {
        constructor() {
          this.$button = document.querySelector(".btn");
          this.count = 0;

          // increase ë©”ì„œë“œë¥¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ ë“±ë¡
          // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ increase ë‚´ë¶€ì˜ thisëŠ” DOM ìš”ì†Œ(this.$button)ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
          // í•˜ì§€ë§Œ increaseëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ì •ì˜ë˜ì–´ ìˆìœ¼ë¯€ë¡œ
          // increase ë‚´ë¶€ì˜ thisëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
          this.$button.onclick = this.increase;

          // ë§Œì•½ increaseê°€ í™”ì‚´í‘œ í•¨ìˆ˜ê°€ ì•„ë‹ˆë¼ë©´ bind ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
          // $button.onclick = this.increase.bind(this);
        }

        // ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ
        // í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ì–¸ì œë‚˜ ìƒìœ„ ì»¨í…ìŠ¤íŠ¸ì˜ thisë¥¼ ê°€ë¦¬í‚¨ë‹¤.
        increase = () => (this.$button.textContent = ++this.count);
      }
      new App();
    </script>
  </body>
</html>
```

í•˜ì§€ë§Œ, ì¸ìŠ¤í„´ìŠ¤ê°€ ì—¬ëŸ¬ ê°œ ìƒì„±ë˜ë©´ ì´ ë°©ë²•ë„ ë©”ëª¨ë¦¬ ì†í•´ë¥¼ ê°ìˆ˜í•´ì•¼ í•œë‹¤.

ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹° ì •ì˜ì˜ ë‘ ê°€ì§€ ë°©ì‹ì˜ ì°¨ì´ì ì„ ì˜ ì´í•´í•˜ë©´ ìš©ë„ì— ë§ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### `private` í•„ë“œ ì •ì˜ ì œì•ˆ

ES2020ë¶€í„° `#`ë¥¼ ë¶™ì—¬ privateí•œ í•„ë“œ/ë©”ì„œë“œë¥¼ ìƒì„±í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

```js
class Person {
  // private í•„ë“œ ì •ì˜
  #name = "";

  constructor(name) {
    // private í•„ë“œ ì°¸ì¡°
    this.#name = name;
  }
}

const me = new Person("Lee");

// private í•„ë“œ #nameì€ í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ ì°¸ì¡°í•  ìˆ˜ ì—†ë‹¤.
console.log(me.#name);
// SyntaxError: Private field '#name' must be declared in an enclosing class
```

í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ í†µí•´ `private` í•„ë“œì— ê°„ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ëŠ” ìˆë‹¤.

`private` í•„ë“œëŠ” ë°˜ë“œì‹œ í´ë˜ìŠ¤ ëª¸ì²´ì— ì •ì˜í•´ì•¼ í•œë‹¤. `constructor` ë‚´ë¶€ì— ì§ì ‘ ì •ì˜í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

### `static` í•„ë“œ ì •ì˜ ì œì•ˆ

`static` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ì„œ ì •ì  ë©”ì„œë“œë¥¼ ì •ì˜í•  ìˆ˜ ìˆì—ˆë‹¤. í•˜ì§€ë§Œ `static` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œ ì •ì  í•„ë“œ ì„ ì–¸ì€ ES2020ì—ì„œ í‘œì¤€ ì‚¬ì–‘ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆë‹¤.

```js
class MyMath {
  static PI = 22 / 7;
  static #num = 10;
  static increment() {
    return ++MyMath.#num;
  }
}
```

## 25.8 ìƒì†ì— ì˜í•œ í´ë˜ìŠ¤ í™•ì¥

### í´ë˜ìŠ¤ ìƒì†ê³¼ ìƒì„±ì í•¨ìˆ˜ ìƒì†

í´ë˜ìŠ¤ ê¸°ë°˜ ê°ì²´ì§€í–¥ ì–¸ì–´ì˜ `extends`ë¥¼ ì‚¬ìš©í•œ í´ë˜ìŠ¤ ìƒì†ê³¼ ë¹„ìŠ·í•˜ë‹¤.

í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ê¸° ì „ ìƒì„±ì í•¨ìˆ˜ë¥¼ í™•ì¥í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì˜ì‚¬ í´ë˜ìŠ¤ ìƒì†(pesudo classical inheritance) íŒ¨í„´ì„ ì‚¬ìš©í–ˆì–´ì•¼ í–ˆë‹¤.

```js
// ì˜ì‚¬ í´ë˜ìŠ¤ ìƒì†(pseudo classical inheritance) íŒ¨í„´
var Animal = (function () {
  function Animal(age, weight) {
    this.age = age;
    this.weight = weight;
  }

  Animal.prototype.eat = function () {
    return "eat";
  };

  Animal.prototype.move = function () {
    return "move";
  };

  return Animal;
})();

// Animal ìƒì„±ì í•¨ìˆ˜ë¥¼ ìƒì†í•˜ì—¬ í™•ì¥í•œ Bird ìƒì„±ì í•¨ìˆ˜
var Bird = (function () {
  function Bird() {
    // Animal ìƒì„±ì í•¨ìˆ˜ì—ê²Œ thisì™€ ì¸ìˆ˜ë¥¼ ì „ë‹¬í•˜ë©´ì„œ í˜¸ì¶œ
    Animal.apply(this, arguments);
  }

  // Bird.prototypeì„ Animal.prototypeì„ í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ ê°–ëŠ” ê°ì²´ë¡œ êµì²´
  Bird.prototype = Object.create(Animal.prototype);
  // Bird.prototype.constructorì„ Animalì—ì„œ Birdë¡œ êµì²´
  Bird.prototype.constructor = Bird;

  Bird.prototype.fly = function () {
    return "fly";
  };

  return Bird;
})();
```

### `extends` í‚¤ì›Œë“œ

```js
class Bird extends Animal {}
```

### ë™ì  ìƒì†

`extends` í‚¤ì›Œë“œë¡œ í´ë˜ìŠ¤ë¿ë§Œ ì•„ë‹ˆë¼ ìƒì„±ì í•¨ìˆ˜ë„ ìƒì†ë°›ì„ ìˆ˜ ìˆë‹¤. ë‹¨, `extends` í‚¤ì›Œë“œ ì•ì— í´ë˜ìŠ¤ê°€ ì™€ì•¼ í•œë‹¤.

`extends` í‚¤ì›Œë“œ ë‹¤ìŒì—ëŠ” í´ë˜ìŠ¤ë¿ë§Œ ì•„ë‹ˆë¼ `[[Construct]]` ë‚´ë¶€ ë©”ì„œë“œë¥¼ ê°–ëŠ” í•¨ìˆ˜ ê°ì²´ë¡œ í‰ê°€ë  ìˆ˜ ìˆëŠ” ëª¨ë“  í‘œí˜„ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ í†µí•´ ë™ì ìœ¼ë¡œ ìƒì†ë°›ì„ ëŒ€ìƒì„ ê²°ì •í•  ìˆ˜ ìˆë‹¤.

```js
function Base1() {}

class Base2 {}

let condition = true;

// ì¡°ê±´ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ìƒì† ëŒ€ìƒì„ ê²°ì •í•˜ëŠ” ì„œë¸Œí´ë˜ìŠ¤
class Derived extends (condition ? Base1 : Base2) {}

const derived = new Derived();
console.log(derived); // Derived {}

console.log(derived instanceof Base1); // true
console.log(derived instanceof Base2); // false
```

### ì„œë¸Œí´ë˜ìŠ¤ì˜ constructor

ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ `constructor` ë©”ì„œë“œë¥¼ ìƒëµí•˜ë©´ í´ë˜ìŠ¤ì— ë‹¤ìŒê³¼ ê°™ì€ `constructor`ê°€ ì•”ë¬µì ìœ¼ë¡œ ì •ì˜ëœë‹¤. `args`ëŠ” `new` ì—°ì‚°ìì™€ í•¨ê»˜ í´ë˜ìŠ¤ë¥¼ í˜¸ì¶œí•  ë•Œ ì „ë‹¬í•œ ì¸ìˆ˜ì˜ ë¦¬ìŠ¤íŠ¸ë‹¤.

```js
constructor(...args) { super(...args) }
```

**`super()`ëŠ” ìˆ˜í¼í´ë˜ìŠ¤ì˜ `constructor`ë¥¼ í˜¸ì¶œí•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.**

### `super` í‚¤ì›Œë“œ

`super` í‚¤ì›Œë“œëŠ” í•¨ìˆ˜ì²˜ëŸ¼ í˜¸ì¶œí•  ìˆ˜ë„ ìˆê³  `this`ì™€ ê°™ì´ ì‹ë³„ìì²˜ëŸ¼ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” íŠ¹ìˆ˜í•œ í‚¤ì›Œë“œë‹¤.

- `super`ë¥¼ í˜¸ì¶œí•˜ë©´ ìˆ˜í¼í´ë˜ìŠ¤ì˜ `constructor`ë¥¼ í˜¸ì¶œí•œë‹¤.
- `super`ë¥¼ ì°¸ì¡°í•˜ë©´ ìˆ˜í¼í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

**`super` í˜¸ì¶œ**

ìˆ˜í¼í´ë˜ìŠ¤ì—ì„œ ì¶”ê°€í•œ í”„ë¡œí¼í‹°ì™€ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì¶”ê°€í•œ í”„ë¡œí¼í‹°ë¥¼ ê°–ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤ë©´ ì„œë¸Œí´ë˜ìŠ¤ì˜ `constructor`ë¥¼ ìƒëµí•  ìˆ˜ ì—†ë‹¤.

```js
class Base {
  constructor(a, b) {
    this.a = a;
    this.b = b;
  }
}

class Derived extends Base {
  constructor(a, b, c) {
    super(a, b);
    this.c = c;
  }
}

const derived = new Derived(1, 2, 3);
console.log(derived); // Derived {a: 1, b: 2, c: 3}
```

`super`ë¥¼ í˜¸ì¶œí•  ë•Œ ì£¼ì˜í•´ì•¼ í•  ì‚¬í•­ì´ ìˆë‹¤.

1. ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ `constructor`ë¥¼ ìƒëµí•˜ì§€ ì•ŠëŠ” ê²½ìš°, ì„œë¸Œí´ë˜ìŠ¤ì˜ `constructor`ì—ì„œëŠ” ë°˜ë“œì‹œ `super`ë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤.

```js
class Base {}

class Derived extends Base {
  constructor() {
    // ReferenceError: Must call super constructor in derived class before accessing 'this' or returning from derived constructor
    console.log("constructor call");
  }
}

const derived = new Derived();
```

2. ì„œë¸Œí´ë˜ìŠ¤ì˜ `constructor`ì—ì„œ `super`ë¥¼ í˜¸ì¶œí•˜ê¸° ì „ì—ëŠ” `this`ë¥¼ ì°¸ì¡°í•  ìˆ˜ ì—†ë‹¤.

```js
class Base {}

class Derived extends Base {
  constructor() {
    // ReferenceError: Must call super constructor in derived class before accessing 'this' or returning from derived constructor
    this.a = 1;
    super();
  }
}

const derived = new Derived(1);
```

3. `super`ëŠ” ë°˜ë“œì‹œ ì„œë¸Œí´ë˜ìŠ¤ì˜ `constructor`ì—ì„œë§Œ í˜¸ì¶œí•œë‹¤. ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

**`super` ì°¸ì¡°**

ë©”ì„œë“œ ë‚´ì—ì„œ `super`ë¥¼ ì°¸ì¡°í•˜ë©´ ìˆ˜í¼í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

1. ì„œë¸Œí´ë˜ìŠ¤ì˜ í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ ë‚´ì—ì„œ `super.sayHi`ëŠ” ìˆ˜í¼í´ë˜ìŠ¤ì˜ í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ `sayHi`ë¥¼ ê°€ë¦¬í‚¨ë‹¤.

`super.sayHi()`ëŠ” ì•„ë˜ ì½”ë“œì™€ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤.

```js
class Base {
  constructor(name) {
    this.name = name;
  }

  sayHi() {
    return `Hi! ${this.name}`;
  }
}

class Derived extends Base {
  sayHi() {
    // __superëŠ” Base.prototypeì„ ê°€ë¦¬í‚¨ë‹¤.
    const __super = Object.getPrototypeOf(Derived.prototype);
    return `${__super.sayHi.call(this)} how are you doing?`;
  }
}
```

`super`ëŠ” ìì‹ ì„ ì°¸ì¡°í•˜ê³  ìˆëŠ” ë©”ì„œë“œ(ì„œë¸Œí´ë˜ìŠ¤ì˜ `sayHi`)ê°€ ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ê°ì²´(ì„œë¸Œí´ë˜ìŠ¤ì˜ í”„í† í† íƒ€ì…)ì˜ í”„ë¡œí† íƒ€ì…(ìˆ˜í¼í´ë˜ìŠ¤ì˜ í”„ë¡œí† íƒ€ì…)ì„ ê°€ë¦¬í‚¨ë‹¤. ë”°ë¼ì„œ `super.sayHi`ëŠ” ìˆ˜í¼í´ë˜ìŠ¤ì˜ í”„ë¡œí† íƒ€ì…ì˜ `sayHi`ë¥¼ ê°€ë¦¬í‚¨ë‹¤.

ë‹¨, `super.sayHi`, ì¦‰ ìˆ˜í¼í´ë˜ìŠ¤ì˜ í”„ë¡œí† íƒ€ì…ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ `call` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ `this`ë¥¼ ì „ë‹¬í•´ì•¼ í•œë‹¤. `this`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ `Base.prototype.sayHi` ë©”ì„œë“œ ë‚´ë¶€ëŠ” `Base.prototype`ì„ ê°€ë¦¬í‚¨ë‹¤.

`super` ì°¸ì¡°ëŠ” `super`ë¥¼ ì°¸ì¡°í•˜ëŠ” ë©”ì„œë“œê°€ ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ê°ì²´ì˜ í”„ë¡œí† íƒ€ì…ì„ ì°¾ì•„ê°€ì•¼ í•˜ëŠ”ë°, ì´ë¥¼ ìœ„í•´ì„œ ë©”ì„œë“œëŠ” ë‚´ë¶€ ìŠ¬ë¡¯ **`[[HomeObject]]`ë¥¼ ê°€ì§€ë©°**, ìì‹ ì„ ë°”ì¸ë”©í•˜ê³  ìˆëŠ” ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.

```js
/*
[[HomeObject]]ëŠ” ë©”ì„œë“œ ìì‹ ì„ ë°”ì¸ë”©í•˜ê³  ìˆëŠ” ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
[[HomeObject]]ë¥¼ í†µí•´ ë©”ì„œë“œ ìì‹ ì„ ë°”ì¸ë”©í•˜ê³  ìˆëŠ” ê°ì²´ì˜ í”„ë¡œí† íƒ€ì…ì„ ì°¾ì„ ìˆ˜ ìˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´, Derived í´ë˜ìŠ¤ì˜ sayHi ë©”ì„œë“œëŠ” Derived.prototypeì— ë°”ì¸ë”©ë˜ì–´ ìˆë‹¤.
ë”°ë¼ì„œ Derived í´ë˜ìŠ¤ì˜ sayHi ë©”ì„œë“œì˜ [[HomeObject]]ëŠ” Derived.prototypeì´ê³ 
ì´ë¥¼ í†µí•´ Derived í´ë˜ìŠ¤ì˜ sayHi ë©”ì„œë“œ ë‚´ë¶€ì˜ super ì°¸ì¡°ê°€ Base.prototypeìœ¼ë¡œ ê²°ì •ëœë‹¤.
ë”°ë¼ì„œ super.sayHiëŠ” Base.prototype.sayHië¥¼ ê°€ë¦¬í‚¤ê²Œ ëœë‹¤.
*/
super = Object.getPrototypeOf([[HomeObject]])
```

**âš ï¸ES6ì˜ ë©”ì„œë“œ ì¶•ì•½ í‘œí˜„ìœ¼ë¡œ ì •ì˜ëœ í•¨ìˆ˜ë§Œì´ `[[HomeObject]]`ë¥¼ ê°–ëŠ”ë‹¤.** ì´ ë‚´ë¶€ ìŠ¬ë¡¯ì´ ìˆëŠ” í•¨ìˆ˜ë§Œì´ `super` ì°¸ì¡°ê°€ ê°€ëŠ¥í•˜ë‹¤.

`super` ì°¸ì¡°ëŠ” ê°ì²´ ë¦¬í„°ëŸ´ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë‹¨ ë©”ì„œë“œ ì¶•ì•½ í‘œí˜„ìœ¼ë¡œ ì •ì˜í•´ì•¼ í•œë‹¤.

2. ì„œë¸Œí´ë˜ìŠ¤ì˜ ì •ì  ë©”ì„œë“œ ë‚´ì—ì„œ `super.sayHi`ëŠ” ìˆ˜í¼í´ë˜ìŠ¤ì˜ ì •ì  ë©”ì„œë“œ `sayHi`ë¥¼ ê°€ë¦¬í‚¨ë‹¤.

```js
class Base {
  static sayHi() {
    return "Hi!";
  }
}

class Derived extends Base {
  static sayHi() {
    // super.sayHiëŠ” ìˆ˜í¼í´ë˜ìŠ¤ì˜ ì •ì  ë©”ì„œë“œë¥¼ ê°€ë¦¬í‚¨ë‹¤.
    return `${super.sayHi()} how are you doing?`;
  }
}

console.log(Derived.sayHi()); // Hi! how are you doing?
```

### ìƒì† í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ê³¼ì •

1. ì„œë¸Œí´ë˜ìŠ¤ì˜ `super` í˜¸ì¶œ

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ í´ë˜ìŠ¤ë¥¼ í‰ê°€í•  ë•Œ ìˆ˜í¼í´ë˜ìŠ¤, ì„œë¸Œí´ë˜ìŠ¤ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´ `base` ë˜ëŠ” `derived`ë¥¼ ê°’ìœ¼ë¡œ ê°–ëŠ” ë‚´ë¶€ ìŠ¬ë¡¯ `[[ConstructorKind]]`ë¥¼ ê°–ëŠ”ë‹¤. ìƒì†ë°›ì§€ ì•ŠëŠ” í´ë˜ìŠ¤(ë˜ëŠ” ìƒì„±ì í•¨ìˆ˜)ëŠ” `base`ë¥¼, ìƒì†ë°›ëŠ” í´ë˜ìŠ¤ëŠ” `derived`ë¥¼ ê°–ê²Œ ëœë‹¤. ì´ë¥¼ í†µí•´ `new` ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œë˜ì—ˆì„ ë•Œì˜ ë™ì‘ì´ êµ¬ë¶„ëœë‹¤.

ì„œë¸Œí´ë˜ìŠ¤ëŠ” ìˆ˜í¼í´ë˜ìŠ¤ì—ê²Œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì„ ìœ„ì„í•œë‹¤. ë•Œë¬¸ì— ì„œë¸Œí´ë˜ìŠ¤ì˜ `constructor`ì—ì„œ ë°˜ë“œì‹œ `super`ë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤.

`super`ê°€ í˜¸ì¶œë˜ë©´ ìˆ˜í¼í´ë˜ìŠ¤ê°€ í‰ê°€ë˜ì–´ í•¨ìˆ˜ ê°ì²´ì˜ ì½”ë“œê°€ ì‹¤í–‰ë˜ê¸° ì‹œì‘í•œë‹¤.

2. ìˆ˜í¼í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ê³¼ `this` ë°”ì¸ë”©

ì¸ìŠ¤í„´ìŠ¤ëŠ” `this`ì— ë°”ì¸ë”©ëœë‹¤. ë”°ë¼ì„œ ìˆ˜í¼í´ë˜ìŠ¤ì˜ `constructor` ë‚´ë¶€ì˜ `this`ëŠ” ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤.

```js
class Rectangle {
  constructor(width, height) {
    // ì•”ë¬µì ìœ¼ë¡œ ë¹ˆ ê°ì²´, ì¦‰ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ê³  thisì— ë°”ì¸ë”©ëœë‹¤.
    console.log(this); // ColorRectangle {}
    // new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œëœ í•¨ìˆ˜, ì¦‰ new.targetì€ ColorRectangleì´ë‹¤.
    console.log(new.target); // ColorRectangle
  ...
```

ì¸ìŠ¤í„´ìŠ¤ëŠ” ìˆ˜í¼í´ë˜ìŠ¤ê°€ ìƒì„±í•œë‹¤. í•˜ì§€ë§Œ `new` ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œëœ í•¨ìˆ˜ë¥¼ ê°€ë¦¬í‚¤ëŠ” `new.target`ì€ ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤. ë”°ë¼ì„œ ì¸ìŠ¤í„´ìŠ¤ëŠ” **`new.target`ì´ ê°€ë¦¬í‚¤ëŠ” ì„œë¸Œí´ë˜ìŠ¤ê°€ ìƒì„±í•œ ê²ƒìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤**.

ë”°ë¼ì„œ ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí† íƒ€ì…ì€ `new.target`, ì¦‰ ì„œë¸Œí´ë˜ìŠ¤ì˜ `prototype` í”„ë¡œí¼í‹°ê°€ ê°€ë¦¬í‚¤ëŠ” ê°ì²´ê°€ ëœë‹¤.

```js
  ...
    // ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí† íƒ€ì…ìœ¼ë¡œ ColorRectangle.prototypeì´ ì„¤ì •ëœë‹¤.
    console.log(Object.getPrototypeOf(this) === ColorRectangle.prototype); // true
    console.log(this instanceof ColorRectangle); // true
    console.log(this instanceof Rectangle); // true
  ...
```

3. ìˆ˜í¼í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”

ìˆ˜í¼í´ë˜ìŠ¤ì˜ `constructor`ê°€ ì‹¤í–‰ë˜ì–´ `this`ì— ë°”ì¸ë”©ëœ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì´ˆê¸°í™”í•œë‹¤.

`this`ì— ë°”ì¸ë”©ëœ ì¸ìŠ¤í„´ìŠ¤ì— í”„ë¡œí¼í‹°ë¥¼ ì¶”ê°€í•˜ê³  `constructor`ê°€ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ì´ˆê¸°ê°’ìœ¼ë¡œ í”„ë¡œí¼í‹°ë¥¼ ì´ˆê¸°í™”í•œë‹¤.

```js
    // ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
    this.width = width;
    this.height = height;

    console.log(this); // ColorRectangle {width: 2, height: 4}
  }
...
```

4. ì„œë¸Œí´ë˜ìŠ¤ `constructro`ë¡œì˜ ë³µê·€ì™€ `this` ë°”ì¸ë”©

`super` í˜¸ì¶œì´ ì¢…ë£Œë˜ê³  ì„œë¸Œí´ë˜ìŠ¤ `constructor`ë¡œ ì œì–´ íë¦„ì´ ëŒì•„ì˜¨ë‹¤. ì´ë•Œ `super`ê°€ ë°˜í™˜í•œ ì¸ìŠ¤í„´ìŠ¤ê°€ `this`ì— ë°”ì¸ë”©ëœë‹¤. ì„œë¸Œí´ë˜ìŠ¤ëŠ” ë³„ë„ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  ìˆ˜í¼í´ë˜ìŠ¤ë¡œë¶€í„° ë°›ì€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê·¸ëŒ€ë¡œ `this`ì— ë°”ì¸ë”©í•˜ì—¬ ì‚¬ìš©í•œë‹¤.

```js
class ColorRectangle extends Rectangle {
  constructor(width, height, color) {
    super(width, height);

    // superê°€ ë°˜í™˜í•œ ì¸ìŠ¤í„´ìŠ¤ê°€ thisì— ë°”ì¸ë”©ëœë‹¤.
    console.log(this); // ColorRectangle {width: 2, height: 4}
...
```

5. ì„œë¸Œí´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”

`super` í˜¸ì¶œ ì´í›„, ì„œë¸Œí´ë˜ìŠ¤ì˜ `constructor`ì— ê¸°ìˆ ëœ ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”ê°€ ì‹¤í–‰ëœë‹¤. ì¦‰, `this`ì— ë°”ì¸ë”©ë˜ì–´ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ì— í”„ë¡œí¼í‹°ë¥¼ ì¶”ê°€í•˜ê³  `constructor`ê°€ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ì´ˆê¸°ê°’ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ì˜ í”„ë¡œí¼í‹°ë¥¼ ì´ˆê¸°í™”í•œë‹¤.

6. ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜

ëª¨ë“  ì²˜ë¦¬ê°€ ëë‚˜ë©´ ì™„ì„±ëœ ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”©ëœ `this`ê°€ ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜ëœë‹¤.

```js
class ColorRectangle extends Rectangle {
  constructor(width, height, color) {
    super(width, height);

    // superê°€ ë°˜í™˜í•œ ì¸ìŠ¤í„´ìŠ¤ê°€ thisì— ë°”ì¸ë”©ëœë‹¤.
    console.log(this); // ColorRectangle {width: 2, height: 4}

    // ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
    this.color = color;

    // ì™„ì„±ëœ ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”©ëœ thisê°€ ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜ëœë‹¤.
    console.log(this); // ColorRectangle {width: 2, height: 4, color: "red"}
  }
...
```

### í‘œì¤€ ë¹ŒíŠ¸ì¸ ìƒì„±ì í•¨ìˆ˜ í™•ì¥

í‘œì¤€ ë¹ŒíŠ¸ì¸ ìƒì„±ìë„ `[[Construct]]` ë‚´ë¶€ ë©”ì„œë“œë¥¼ ê°–ëŠ” ìƒì„±ì í•¨ìˆ˜ì´ë¯€ë¡œ `extends` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í™•ì¥í•  ìˆ˜ ìˆë‹¤.

```js
// Array ìƒì„±ì í•¨ìˆ˜ë¥¼ ìƒì†ë°›ì•„ í™•ì¥í•œ MyArray
class MyArray extends Array {
  // ì¤‘ë³µëœ ë°°ì—´ ìš”ì†Œë¥¼ ì œê±°í•˜ê³  ë°˜í™˜í•œë‹¤: [1, 1, 2, 3] => [1, 2, 3]
  uniq() {
    return this.filter((v, i, self) => self.indexOf(v) === i);
  }

  // ëª¨ë“  ë°°ì—´ ìš”ì†Œì˜ í‰ê· ì„ êµ¬í•œë‹¤: [1, 2, 3] => 2
  average() {
    return this.reduce((pre, cur) => pre + cur, 0) / this.length;
  }
}

const myArray = new MyArray(1, 1, 2, 3);
console.log(myArray); // MyArray(4) [1, 1, 2, 3]

// MyArray.prototype.uniq í˜¸ì¶œ
console.log(myArray.uniq()); // MyArray(3) [1, 2, 3]
// MyArray.prototype.average í˜¸ì¶œ
console.log(myArray.average()); // 1.75
```

`MyArray` í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” `Array.prototype`ê³¼ `MyArray.prototype`ì˜ ëª¨ë“  ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

`map, filter`ì™€ ê°™ì´ ìƒˆë¡œìš´ ë°°ì—´ì„ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œê°€ `MyArray` í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•´ì•¼ë§Œ ë©”ì„œë“œ ì²´ì´ë‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```js
// ë©”ì„œë“œ ì²´ì´ë‹
// [1, 1, 2, 3] => [ 1, 1, 3 ] => [ 1, 3 ] => 2
console.log(
  myArray
    .filter((v) => v % 2)
    .uniq()
    .average()
); // 2
```

ë§Œì•½ `MyArray` í´ë˜ìŠ¤ì˜ `uniq` ë©”ì„œë“œê°€ `Array`ë¥¼ ë°˜í™˜í•˜ê²Œ í•˜ë ¤ë©´ `Symbol.species`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì  ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ ì¶”ê°€í•œë‹¤.

```js
// Array ìƒì„±ì í•¨ìˆ˜ë¥¼ ìƒì†ë°›ì•„ í™•ì¥í•œ MyArray
class MyArray extends Array {
  // ëª¨ë“  ë©”ì„œë“œê°€ Array íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•˜ë„ë¡ í•œë‹¤.
  static get [Symbol.species]() {
    return Array;
  }

  // ì¤‘ë³µëœ ë°°ì—´ ìš”ì†Œë¥¼ ì œê±°í•˜ê³  ë°˜í™˜í•œë‹¤: [1, 1, 2, 3] => [1, 2, 3]
  uniq() {
    return this.filter((v, i, self) => self.indexOf(v) === i);
  }

  // ëª¨ë“  ë°°ì—´ ìš”ì†Œì˜ í‰ê· ì„ êµ¬í•œë‹¤: [1, 2, 3] => 2
  average() {
    return this.reduce((pre, cur) => pre + cur, 0) / this.length;
  }
}

const myArray = new MyArray(1, 1, 2, 3);

console.log(myArray.uniq() instanceof MyArray); // false
console.log(myArray.uniq() instanceof Array); // true

// ë©”ì„œë“œ ì²´ì´ë‹
// uniq ë©”ì„œë“œëŠ” Array ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ average ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤.
console.log(myArray.uniq().average());
// TypeError: myArray.uniq(...).average is not a function
```
